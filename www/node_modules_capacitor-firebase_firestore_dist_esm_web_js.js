"use strict";
(self["webpackChunkYummy"] = self["webpackChunkYummy"] || []).push([["node_modules_capacitor-firebase_firestore_dist_esm_web_js"],{

/***/ 15143:
/*!********************************************************************!*\
  !*** ./node_modules/@capacitor-firebase/firestore/dist/esm/web.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FirebaseFirestoreWeb": () => (/* binding */ FirebaseFirestoreWeb)
/* harmony export */ });
/* harmony import */ var _Users_toekneetee_Documents_apps_cookbook_yummy_ionic5_master_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ 19369);
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @capacitor/core */ 41899);
/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ 74128);



class FirebaseFirestoreWeb extends _capacitor_core__WEBPACK_IMPORTED_MODULE_1__.WebPlugin {
  constructor() {
    super(...arguments);
    this.unsubscribesMap = new Map();
  }

  addDocument(options) {
    return (0,_Users_toekneetee_Documents_apps_cookbook_yummy_ionic5_master_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      const firestore = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getFirestore)();
      const {
        reference,
        data
      } = options;
      const documentReference = yield (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(firestore, reference), data);
      return {
        reference: {
          id: documentReference.id,
          path: documentReference.path
        }
      };
    })();
  }

  setDocument(options) {
    return (0,_Users_toekneetee_Documents_apps_cookbook_yummy_ionic5_master_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      const firestore = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getFirestore)();
      const {
        reference,
        data,
        merge
      } = options;
      yield (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(firestore, reference), data, {
        merge
      });
    })();
  }

  getDocument(options) {
    return (0,_Users_toekneetee_Documents_apps_cookbook_yummy_ionic5_master_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      const firestore = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getFirestore)();
      const {
        reference
      } = options;
      const documentSnapshot = yield (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(firestore, reference));
      const documentSnapshotData = documentSnapshot.data();
      return {
        snapshot: {
          id: documentSnapshot.id,
          path: documentSnapshot.ref.path,
          data: documentSnapshotData === undefined ? null : documentSnapshotData
        }
      };
    })();
  }

  updateDocument(options) {
    return (0,_Users_toekneetee_Documents_apps_cookbook_yummy_ionic5_master_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      const firestore = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getFirestore)();
      const {
        reference,
        data
      } = options;
      yield (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(firestore, reference), data);
    })();
  }

  deleteDocument(options) {
    return (0,_Users_toekneetee_Documents_apps_cookbook_yummy_ionic5_master_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      const firestore = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getFirestore)();
      const {
        reference
      } = options;
      yield (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.deleteDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(firestore, reference));
    })();
  }

  getCollection(options) {
    var _this = this;

    return (0,_Users_toekneetee_Documents_apps_cookbook_yummy_ionic5_master_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      const collectionQuery = yield _this.buildCollectionQuery(options);
      const collectionSnapshot = yield (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(collectionQuery);
      return {
        snapshots: collectionSnapshot.docs.map(documentSnapshot => ({
          id: documentSnapshot.id,
          path: documentSnapshot.ref.path,
          data: documentSnapshot.data()
        }))
      };
    })();
  }

  getCollectionGroup(options) {
    var _this2 = this;

    return (0,_Users_toekneetee_Documents_apps_cookbook_yummy_ionic5_master_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      const collectionQuery = yield _this2.buildCollectionQuery(options);
      const collectionSnapshot = yield (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(collectionQuery);
      return {
        snapshots: collectionSnapshot.docs.map(documentSnapshot => ({
          id: documentSnapshot.id,
          path: documentSnapshot.ref.path,
          data: documentSnapshot.data()
        }))
      };
    })();
  }

  enableNetwork() {
    var _this3 = this;

    return (0,_Users_toekneetee_Documents_apps_cookbook_yummy_ionic5_master_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      throw _this3.unimplemented('Not implemented on web.');
    })();
  }

  disableNetwork() {
    var _this4 = this;

    return (0,_Users_toekneetee_Documents_apps_cookbook_yummy_ionic5_master_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      throw _this4.unimplemented('Not implemented on web.');
    })();
  }

  addDocumentSnapshotListener(options, callback) {
    var _this5 = this;

    return (0,_Users_toekneetee_Documents_apps_cookbook_yummy_ionic5_master_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      const firestore = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getFirestore)();
      const unsubscribe = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(firestore, options.reference), snapshot => {
        const data = snapshot.data();
        const event = {
          snapshot: {
            id: snapshot.id,
            path: snapshot.ref.path,
            data: data === undefined ? null : data
          }
        };
        callback(event);
      });
      const id = Date.now().toString();

      _this5.unsubscribesMap.set(id, unsubscribe);

      return id;
    })();
  }

  addCollectionSnapshotListener(options, callback) {
    var _this6 = this;

    return (0,_Users_toekneetee_Documents_apps_cookbook_yummy_ionic5_master_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      const collectionQuery = yield _this6.buildCollectionQuery(options);
      const unsubscribe = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.onSnapshot)(collectionQuery, snapshot => {
        const event = {
          snapshots: snapshot.docs.map(documentSnapshot => ({
            id: documentSnapshot.id,
            path: documentSnapshot.ref.path,
            data: documentSnapshot.data()
          }))
        };
        callback(event);
      });
      const id = Date.now().toString();

      _this6.unsubscribesMap.set(id, unsubscribe);

      return id;
    })();
  }

  removeSnapshotListener(options) {
    var _this7 = this;

    return (0,_Users_toekneetee_Documents_apps_cookbook_yummy_ionic5_master_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      const unsubscribe = _this7.unsubscribesMap.get(options.callbackId);

      if (!unsubscribe) {
        return;
      }

      unsubscribe();

      _this7.unsubscribesMap.delete(options.callbackId);
    })();
  }

  removeAllListeners() {
    var _this8 = this;

    return (0,_Users_toekneetee_Documents_apps_cookbook_yummy_ionic5_master_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      _this8.unsubscribesMap.forEach(unsubscribe => unsubscribe());

      _this8.unsubscribesMap.clear();
    })();
  }

  buildCollectionQuery(options) {
    var _this9 = this;

    return (0,_Users_toekneetee_Documents_apps_cookbook_yummy_ionic5_master_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      const firestore = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getFirestore)();
      let collectionQuery;

      if (options.compositeFilter) {
        const compositeFilter = yield _this9.buildFirebaseQueryCompositeFilterConstraint(options.compositeFilter);
        const queryConstraints = yield _this9.buildFirebaseQueryNonFilterConstraints(options.queryConstraints || []);
        collectionQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(firestore, options.reference), compositeFilter, ...queryConstraints);
      } else {
        const queryConstraints = yield _this9.buildFirebaseQueryConstraints(options.queryConstraints || []);
        collectionQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(firestore, options.reference), ...queryConstraints);
      }

      return collectionQuery;
    })();
  }

  buildFirebaseQueryCompositeFilterConstraint(compositeFilter) {
    const queryConstraints = this.buildFirebaseQueryFilterConstraints(compositeFilter.queryConstraints);

    if (compositeFilter.type === 'and') {
      return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.and)(...queryConstraints);
    } else {
      return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.or)(...queryConstraints);
    }
  }

  buildFirebaseQueryFilterConstraints(queryfilterConstraints) {
    const firebaseQueryFilterConstraints = [];

    for (const queryfilterConstraint of queryfilterConstraints) {
      const firebaseQueryFilterConstraint = this.buildFirebaseQueryFilterConstraint(queryfilterConstraint);
      firebaseQueryFilterConstraints.push(firebaseQueryFilterConstraint);
    }

    return firebaseQueryFilterConstraints;
  }

  buildFirebaseQueryFilterConstraint(queryFilterConstraints) {
    if (queryFilterConstraints.type === 'where') {
      return this.buildFirebaseQueryFieldFilterConstraint(queryFilterConstraints);
    } else {
      return this.buildFirebaseQueryCompositeFilterConstraint(queryFilterConstraints);
    }
  }

  buildFirebaseQueryFieldFilterConstraint(queryfilterConstraints) {
    return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(queryfilterConstraints.fieldPath, queryfilterConstraints.opStr, queryfilterConstraints.value);
  }

  buildFirebaseQueryNonFilterConstraints(queryConstraints) {
    var _this10 = this;

    return (0,_Users_toekneetee_Documents_apps_cookbook_yummy_ionic5_master_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      const firebaseQueryNonFilterConstraints = [];

      for (const queryConstraint of queryConstraints) {
        const firebaseQueryNonFilterConstraint = yield _this10.buildFirebaseQueryNonFilterConstraint(queryConstraint);
        firebaseQueryNonFilterConstraints.push(firebaseQueryNonFilterConstraint);
      }

      return firebaseQueryNonFilterConstraints;
    })();
  }

  buildFirebaseQueryNonFilterConstraint(queryConstraints) {
    return (0,_Users_toekneetee_Documents_apps_cookbook_yummy_ionic5_master_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      switch (queryConstraints.type) {
        case 'orderBy':
          return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.orderBy)(queryConstraints.fieldPath, queryConstraints.directionStr);

        case 'limit':
          return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.limit)(queryConstraints.limit);

        case 'limitToLast':
          return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.limitToLast)(queryConstraints.limit);

        case 'startAt':
        case 'startAfter':
        case 'endAt':
        case 'endBefore':
          {
            const firestore = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getFirestore)();
            const documentSnapshot = yield (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(firestore, queryConstraints.reference));

            switch (queryConstraints.type) {
              case 'startAt':
                return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.startAt)(documentSnapshot);

              case 'startAfter':
                return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.startAfter)(documentSnapshot);

              case 'endAt':
                return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.endAt)(documentSnapshot);

              case 'endBefore':
                return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.endBefore)(documentSnapshot);
            }
          }
      }
    })();
  }

  buildFirebaseQueryConstraints(queryConstraints) {
    var _this11 = this;

    return (0,_Users_toekneetee_Documents_apps_cookbook_yummy_ionic5_master_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      const firebaseQueryConstraints = [];

      for (const queryConstraint of queryConstraints) {
        const firebaseQueryConstraint = yield _this11.buildFirebaseQueryConstraint(queryConstraint);
        firebaseQueryConstraints.push(firebaseQueryConstraint);
      }

      return firebaseQueryConstraints;
    })();
  }

  buildFirebaseQueryConstraint(queryConstraint) {
    var _this12 = this;

    return (0,_Users_toekneetee_Documents_apps_cookbook_yummy_ionic5_master_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      if (queryConstraint.type === 'where') {
        return _this12.buildFirebaseQueryFieldFilterConstraint(queryConstraint);
      } else {
        return yield _this12.buildFirebaseQueryNonFilterConstraint(queryConstraint);
      }
    })();
  }

}

/***/ })

}]);
//# sourceMappingURL=node_modules_capacitor-firebase_firestore_dist_esm_web_js.js.map